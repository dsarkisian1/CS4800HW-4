CREATE TABLE MUSICIAN (
                SSN INTEGER NOT NULL,
                name VARCHAR NOT NULL,
                CONSTRAINT SSN PRIMARY KEY (SSN)
);


CREATE TABLE ALBUM (
                albumID INTEGER NOT NULL,
                SSN INTEGER NOT NULL,
                title VARCHAR NOT NULL,
                Release_Date DATE NOT NULL,
                Format VARCHAR NOT NULL,
                age INTEGER NOT NULL,
                CONSTRAINT albumID PRIMARY KEY (albumID, SSN)
);


CREATE TABLE INSTRUMENT (
                name VARCHAR NOT NULL,
                pitch VARCHAR NOT NULL,
                SSN INTEGER NOT NULL,
                CONSTRAINT name PRIMARY KEY (name)
);


CREATE TABLE SONG (
                title VARCHAR NOT NULL,
                SSN INTEGER NOT NULL,
                MUSICIAN _SSN INTEGER NOT NULL,
                albumID INTEGER NOT NULL,
                length VARCHAR NOT NULL,
                name VARCHAR NOT NULL,
                CONSTRAINT title PRIMARY KEY (title, SSN, MUSICIAN _SSN, albumID)
);


CREATE TABLE ADDRESS (
                addressID INTEGER NOT NULL,
                number INTEGER NOT NULL,
                Street1 VARCHAR NOT NULL,
                Street2 VARCHAR NOT NULL,
                City VARCHAR NOT NULL,
                State VARCHAR NOT NULL,
                Zip Code INTEGER NOT NULL,
                Telephone INTEGER NOT NULL,
                SSN INTEGER NOT NULL,
                CONSTRAINT addressID PRIMARY KEY (addressID)
);


ALTER TABLE ADDRESS ADD CONSTRAINT MUSICIAN_ADDRESS_fk
FOREIGN KEY (SSN)
REFERENCES MUSICIAN (SSN)
ON DELETE NO ACTION
ON UPDATE NO ACTION
NOT DEFERRABLE;

ALTER TABLE INSTRUMENT ADD CONSTRAINT MUSICIAN_INSTRUMENT_fk
FOREIGN KEY (SSN)
REFERENCES MUSICIAN (SSN)
ON DELETE NO ACTION
ON UPDATE NO ACTION
NOT DEFERRABLE;

ALTER TABLE SONG ADD CONSTRAINT MUSICIAN_SONG_fk
FOREIGN KEY (SSN)
REFERENCES MUSICIAN (SSN)
ON DELETE NO ACTION
ON UPDATE NO ACTION
NOT DEFERRABLE;

ALTER TABLE SONG ADD CONSTRAINT MUSICIAN_SONG_fk1
FOREIGN KEY (MUSICIAN _SSN)
REFERENCES MUSICIAN (SSN)
ON DELETE NO ACTION
ON UPDATE NO ACTION
NOT DEFERRABLE;

ALTER TABLE ALBUM ADD CONSTRAINT MUSICIAN_ALBUM_fk
FOREIGN KEY (SSN)
REFERENCES MUSICIAN (SSN)
ON DELETE NO ACTION
ON UPDATE NO ACTION
NOT DEFERRABLE;

ALTER TABLE SONG ADD CONSTRAINT ALBUM_SONG_fk
FOREIGN KEY (SSN, albumID)
REFERENCES ALBUM (SSN, albumID)
ON DELETE NO ACTION
ON UPDATE NO ACTION
NOT DEFERRABLE;

ALTER TABLE SONG ADD CONSTRAINT INSTRUMENT_SONG_fk
FOREIGN KEY (name)
REFERENCES INSTRUMENT (name)
ON DELETE NO ACTION
ON UPDATE NO ACTION
NOT DEFERRABLE;
